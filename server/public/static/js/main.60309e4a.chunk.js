(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,a,t){e.exports=t(172)},142:function(e,a,t){},144:function(e,a,t){},172:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),l=t.n(c),s=(t(142),t(6)),o=t(8),i=t.n(o),m=t(13),u=t(115),p=(t(144),t(21)),d=t(208),f=t(210),g=t(212),E=t(53),h=t(237),b=t(214),v=t(176),y=t(215),w=t(216),j=t(108),O=t.n(j),x=t(107),N=t.n(x),k=t(106),C=t.n(k),S=t(101),I=t.n(S),F=t(104),W=t.n(F),B=t(103),P=t.n(B),A=t(105),D=t.n(A),T=t(12),z=t.n(T),L=Object(d.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbar:{backgroundColor:"white",position:"fixed",width:"100%",zIndex:100}}}));function _(e){var a=L(),t=e.userData,c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],u=l[1],d=function(e){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u(e)}},j=function(){var a=Object(m.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.removeItem("user"),e.onAuth(!1),a.prev=2,a.next=5,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/signout");case 5:return u(!1),a.abrupt("return");case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return");case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(f.a,{className:a.toolbar},r.a.createElement(g.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return u(!0)}},r.a.createElement(I.a,null)),r.a.createElement(E.a,{variant:"h6",className:a.title},"News with friends")),r.a.createElement(h.a,{anchor:"left",open:o,onClose:d(!1),onOpen:d(!0)},e.isAuth?r.a.createElement(b.a,null,r.a.createElement(v.a,{button:!0,component:p.b,to:"/profile",onClick:function(){return u(!1)}},r.a.createElement(y.a,null,r.a.createElement(P.a,null)),r.a.createElement(w.a,{primary:t?t.first_name:"default"})),r.a.createElement(v.a,{button:!0,component:p.b,to:"/savedArticles",onClick:function(){return u(!1)}},r.a.createElement(y.a,null,r.a.createElement(W.a,null)),r.a.createElement(w.a,{primary:"Saved articles"})),r.a.createElement(v.a,{button:!0,component:p.b,to:"/news",onClick:function(){return u(!1)}},r.a.createElement(y.a,null,r.a.createElement(D.a,null)),r.a.createElement(w.a,{primary:"News"})),r.a.createElement(v.a,{button:!0,component:p.b,to:"/",onClick:j},r.a.createElement(y.a,null,r.a.createElement(C.a,null)),r.a.createElement(w.a,{primary:"Sign out"}))):r.a.createElement(b.a,null,r.a.createElement(v.a,{button:!0,component:p.b,to:"/",onClick:function(){return u(!1)}},r.a.createElement(y.a,null,r.a.createElement(N.a,null)),r.a.createElement(w.a,{primary:"Login"})),r.a.createElement(v.a,{button:!0,component:p.b,to:"/signup",onClick:function(){return u(!1)}},r.a.createElement(y.a,null,r.a.createElement(O.a,null)),r.a.createElement(w.a,{primary:"Sign up"})))))}var R=t(52),q=t(23),U=t(28),Y=t(233),J=t(217),M=t(239),G=t(221),H=t(238),K=t(117),V=t(109),$=t.n(V),Q=function(e){var a=r.a.useState(!1),t=Object(s.a)(a,2),n=t[0],c=t[1];return r.a.useEffect((function(){c(e.open)}),[e.open]),r.a.createElement(K.a,{in:n},r.a.createElement(H.a,Object.assign({action:r.a.createElement(g.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1),e.onClose(!1)}},r.a.createElement($.a,{fontSize:"inherit"})),elevation:6,variant:"filled"},e)))},X=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},formContainer:{height:"65vh",padding:"0px 1rem"}}})),Z=function(e){var a=X(),t=Object(R.g)();localStorage.getItem("user")&&t.push("/news");var c=r.a.useState({email:"",password:"",message:{message:"",type:"info"}}),l=Object(s.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(s.a)(p,2),f=d[0],g=d[1],E=e.location.state||{from:{pathname:"/news"}},h=function(e){return function(a){u(Object(U.a)({},o,Object(q.a)({},e,a.target.value)))}},b=function(){var a=Object(m.a)(i.a.mark((function a(n){var r,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,z.a.post("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/login",{username:o.email,password:o.password});case 4:r=a.sent,c=r.data,u({message:{message:"You have been logged in!",type:"success"},email:"",password:""}),g(!0),e.onAuth(!0),e.userData(c.response),localStorage.setItem("user",JSON.stringify(c.response)),t.push(E.from.pathname),a.next=20;break;case 14:a.prev=14,a.t0=a.catch(1),console.log(a.t0),console.log("Failed:",a.t0.response.data.message||a.t0.response),u({message:{message:a.t0.response.data.message||a.t0.response.data,type:"error"},email:"",password:""}),g(!0);case 20:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:a.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:f,onClose:function(){return g(!1)},severity:o.message.type},o.message.message))),r.a.createElement(J.a,{className:a.formContainer,container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,null,r.a.createElement("h2",null,"Log in"),r.a.createElement(Y.a,null,r.a.createElement("form",null,r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:o.email,onChange:h("email")}),r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:o.password,onChange:h("password")}),r.a.createElement(J.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",onClick:b},"Log in"),r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"default",onClick:function(){return t.push("/signup")}},"Sign up"),r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"default",onClick:function(){return t.push("/reset")}},"I forgot the password")))))))},ee=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},formContainer:{height:"65vh",padding:"0px 1rem"}}})),ae=function(){var e=ee(),a=Object(R.g)(),t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],o=c[1],u=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",repeatPassword:"",message:{message:"",type:"info"}}),p=Object(s.a)(u,2),d=p[0],f=p[1];localStorage.getItem("user")&&a.push("/news");var g=function(e){return function(a){f(Object(U.a)({},d,Object(q.a)({},e,a.target.value)))}},E=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z.a.post("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/register",{firstName:d.firstName,lastName:d.lastName,repeatPassword:d.repeatPassword,username:d.email,password:d.password});case 4:f({message:{message:"The user has been created",type:"success"},email:"",password:"",firstName:"",lastName:"",repeatPassword:""}),o(!0),a.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Failed:",e.t0.response.data.message),f({message:{message:e.t0.response.data.message,type:"error"},email:"",password:"",firstName:"",lastName:"",repeatPassword:""}),o(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:e.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:l,onClose:function(){return o(!1)},severity:d.message.type},d.message.message))),r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:e.formContainer},r.a.createElement(Y.a,null,r.a.createElement("br",null),r.a.createElement("h2",null,"Sign up"),r.a.createElement(Y.a,null,r.a.createElement("form",{id:"dashboardLoginForm"},r.a.createElement(J.a,{container:!0,spacing:1},r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First name",name:"firstName",autoFocus:!0,value:d.firstName,onChange:g("firstName")})),r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last name",name:"lastName",value:d.lastName,onChange:g("lastName")}))),r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:d.email,onChange:g("email")}),r.a.createElement(J.a,{container:!0,spacing:1},r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:d.password,onChange:g("password")})),r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repeatPassword",label:"Repeat password",type:"password",id:"repeatPassword",value:d.repeatPassword,onChange:g("repeatPassword")}))),r.a.createElement(J.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",onClick:E},"Sign up"),r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"default",onClick:function(){a.push("/")}},"Login"),r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"default",onClick:function(){return a.push("/reset")}},"I forgot the password")))))))},te=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},formWidth:{width:"40vw",maxWidth:"500px"}}})),ne=function(){var e,a=te(),t=Object(n.useState)({email:"",message:{message:"",type:"info"}}),c=Object(s.a)(t,2),l=c[0],o=c[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),d=p[0],f=p[1],g=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,z.a.post("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/resetPassword",{username:l.email});case 4:t=e.sent,n=t.data,o({email:"",message:{message:n.message,type:"success"}}),f(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Failed:",e.t0.response.data.message),o({message:{message:e.t0.response.data.message,type:"error"},email:""}),f(!0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:a.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:d,onClose:function(){return f(!1)},severity:l.message.type},l.message.message))),r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"60vh"}},r.a.createElement(Y.a,null,r.a.createElement("h2",null,"Forgot your password?"),r.a.createElement("br",null),r.a.createElement(Y.a,{className:"resetPasswordForm"},r.a.createElement("form",null,r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:l.email,onChange:(e="email",function(a){o(Object(U.a)({},l,Object(q.a)({},e,a.target.value)))})}),r.a.createElement(J.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("br",null),r.a.createElement(G.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",onClick:g},"Reset password"),r.a.createElement("br",null)))))))},re=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},formContainer:{height:"65vh",padding:"0px 1rem"}}})),ce=function(e){var a=re(),t=Object(R.g)(),c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)({password:"",repeatPassword:"",message:{message:"",type:"info"}}),d=Object(s.a)(p,2),f=d[0],g=d[1],E=function(e){return function(a){g(Object(U.a)({},f,Object(q.a)({},e,a.target.value)))}},h=function(){var a=Object(m.a)(i.a.mark((function a(t){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,z.a.put("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/confirmResetPassword",{token:e.match.params.token,password:f.password,confirmPassword:f.repeatPassword});case 4:n=a.sent,r=n.data,g({message:{message:r.message,type:"success"},repeatPassword:"",password:""}),u(!0),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),console.log("Failed:",a.t0.response.data),g({repeatPassword:"",password:"",message:{message:a.t0.response.data.message||a.t0.response.data,type:"error"}}),u(!0);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:a.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:o,onClose:function(){return u(!1)},severity:f.message.type},f.message.message))),r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},f.confirmation?r.a.createElement(Y.a,{className:a.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{severity:"success"},f.confirmation)):""),r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:a.formContainer},r.a.createElement(Y.a,null,r.a.createElement("h2",null,"Reset password"),r.a.createElement(Y.a,null,r.a.createElement("form",null,r.a.createElement(J.a,null,r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f.password,onChange:E("password")}),r.a.createElement(M.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,name:"repeatPassword",label:"Repeat password",type:"password",id:"repeatPassword",value:f.repeatPassword,onChange:E("repeatPassword")})),r.a.createElement(J.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("br",null),r.a.createElement(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:h},"Reset password"),r.a.createElement("br",null),f.confirmation?r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){t.push("/")}},"Log in"):""))))))},le=t(76),se=t.n(le),oe=t(62),ie=t.n(oe),me=t(222),ue=t(110),pe=t.n(ue),de=t(77),fe=t.n(de),ge=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},card:{maxWidth:"40rem",margin:"1rem"},articleImage:{width:"100%",height:"auto"}}})),Ee=function(e){var a=Object(n.useState)(e.article),t=Object(s.a)(a,1)[0],c=ge();return r.a.createElement(me.a,{className:c.card+" articleItem",variant:"outlined"},r.a.createElement(J.a,{container:!0,style:{padding:"1rem"}},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"flex-start"},r.a.createElement(E.a,{variant:"h5",component:"h2"},t.source.name||t.source))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"flex-end",style:{position:"relative"}},e.private?"":r.a.createElement(pe.a,{className:"saveIcon",onClick:function(){return e.onSaveArticle()}}),e.mine?r.a.createElement(fe.a,{className:"deleteIcon",onClick:function(){return e.onDeleteArticle()}}):""))),r.a.createElement(E.a,{style:{padding:"0rem 1rem",marginBottom:".5rem"},component:"p"},t.title),r.a.createElement(Y.a,null,r.a.createElement("img",{src:t.urlToImage?t.urlToImage:"/images/placeholder.png",className:c.articleImage,alt:t.title})),r.a.createElement(Y.a,null,r.a.createElement(E.a,{className:c.ownerName,color:"textPrimary",style:{padding:"1rem"}},t.description)),r.a.createElement(Y.a,null,r.a.createElement(G.a,{style:{margin:"0rem 1rem"},color:"primary",variant:"contained",disableElevation:!0,href:t.url,target:"_blank"},"View article")),r.a.createElement(J.a,{container:!0,style:{padding:"0rem 1rem",marginTop:".5rem"}},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"flex-start"},r.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},se()(t.publishedAt).startOf("hour").fromNow()))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0,dangerouslySetInnerHTML:{__html:t.author}})))))},he=t(25),be=t(232),ve=t(114),ye=t(220),we=t(243),je=t(223),Oe=t(236),xe=t(241),Ne=t(234),ke=t(224),Ce=Object(d.a)((function(e){return{friendsWidth:{width:"100%",height:"100%"},formControl:{margin:e.spacing(1),marginLeft:0,minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Se=function(e){var a=Ce(),t=Object(n.useState)([{code:"",name:"None"},{code:"ro",name:"Romania"},{code:"au",name:"Austria"},{code:"bg",name:"Bulgaria"},{code:"ca",name:"Canada"},{code:"de",name:"Germany"},{code:"fr",name:"French"},{code:"gb",name:"Great Britain"},{code:"hu",name:"Hungary"},{code:"no",name:"Norway"},{code:"pl",name:"Poland"},{code:"us",name:"USA"}]),c=Object(s.a)(t,1)[0],l=Object(n.useState)([{code:"",name:"None"},{code:"ar",name:"Arabic"},{code:"de",name:"Deutsche"},{code:"en",name:"English"},{code:"es",name:"Espanol"},{code:"fr",name:"Franchise"},{code:"nl",name:"Netherlands"},{code:"no",name:"Norsk"},{code:"ru",name:"Russkiy"},{code:"se",name:"Svenska"}]),o=Object(s.a)(l,1)[0],i=Object(n.useState)(["Business","Entertainment","General","Health","Science","Sports","Technology"]),m=Object(s.a)(i,1)[0],u=Object(n.useState)(["","Relevancy","Popularity","Latest"]),p=Object(s.a)(u,1)[0],d=r.a.useState({countries:"",channels:["cnn"],categories:"",phrase:"",type:"everything",languages:"",sort:"",fromDate:new Date,toDate:new Date}),f=Object(s.a)(d,2),g=f[0],h=f[1],b=function(e){return function(a){a.target?h(Object(U.a)({},g,Object(q.a)({},e,a.target.value))):h(Object(U.a)({},g,Object(q.a)({},e,a)))}};return r.a.createElement(J.a,{className:a.friendsWidth},r.a.createElement(me.a,{className:"cardFilter",variant:"outlined"},r.a.createElement(Y.a,null,r.a.createElement(E.a,{variant:"h5",component:"h2"},"Filter news"),r.a.createElement("p",null,"You have to select at least one criteria."),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(ye.a,{component:"fieldset"},r.a.createElement(we.a,{row:!0,name:"type",defaultValue:"top",onChange:b("type"),value:g.type},r.a.createElement(je.a,{value:"headlines",control:r.a.createElement(Oe.a,{color:"primary"}),label:"Top headlines"}),r.a.createElement(je.a,{value:"everything",control:r.a.createElement(Oe.a,{color:"primary"}),label:"Everything"}))),r.a.createElement(M.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Search by a phrase or keywords",name:"phrase",value:g.phrase,onChange:b("phrase")}),r.a.createElement(ye.a,{fullWidth:!0,variant:"outlined",className:a.formControl},r.a.createElement(xe.a,{id:"demo-simple-select-filled-label"},"News channels"),r.a.createElement(Ne.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",name:"channels",label:"News channels",value:g.channels,onChange:b("channels")},r.a.createElement(ke.a,{key:"channel-0",value:""},"None"),e.sources.map((function(e,a){return r.a.createElement(ke.a,{key:a,value:e.id},e.name)})))),"headlines"===g.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{fullWidth:!0,variant:"outlined",className:a.formControl},r.a.createElement(xe.a,{id:"demo-simple-select-filled-label"},"Countries"),r.a.createElement(Ne.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",name:"countries",label:"Countries",value:g.countries,onChange:b("countries")},c.map((function(e,a){return r.a.createElement(ke.a,{key:a,value:e.code},e.name)})))),r.a.createElement(ye.a,{fullWidth:!0,variant:"outlined",className:a.formControl},r.a.createElement(xe.a,{id:"demo-simple-select-filled-label"},"Categories"),r.a.createElement(Ne.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",name:"categories",label:"Categories",value:g.categories,onChange:b("categories")},r.a.createElement(ke.a,{key:"category-0",value:""},"None"),m.map((function(e,a){return r.a.createElement(ke.a,{key:a,value:e},e)}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{fullWidth:!0,variant:"outlined",className:a.formControl},r.a.createElement(xe.a,{id:"demo-simple-select-filled-label"},"Sort by"),r.a.createElement(Ne.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",name:"sort",label:"Sort by",value:g.sort,onChange:b("sort")},r.a.createElement(ke.a,{key:"sort-0",value:""},"None"),p.map((function(e,a){return r.a.createElement(ke.a,{key:a,value:e},e)})))),r.a.createElement(ye.a,{fullWidth:!0,variant:"outlined",className:a.formControl},r.a.createElement(xe.a,{id:"demo-simple-select-filled-label"},"Languages"),r.a.createElement(Ne.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",name:"languages",label:"Languages",value:g.languages,onChange:b("languages")},o.map((function(e,a){return r.a.createElement(ke.a,{key:a,value:e.code},e.name)})))),r.a.createElement(J.a,{spacing:4,container:!0},r.a.createElement(he.a,{utils:ve.a},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(be.a,{margin:"normal",fullWidth:!0,id:"date-picker-dialog",label:"From",format:"yyyy/MM/dd",value:g.fromDate,onChange:b("fromDate"),KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(be.a,{fullWidth:!0,margin:"normal",id:"date-picker-dialog",label:"To",format:"yyyy/MM/dd",value:g.toDate,onChange:b("toDate"),KeyboardButtonProps:{"aria-label":"change date"}})))))),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,alignItems:"center",justify:"flex-end"},r.a.createElement(G.a,{onClick:function(){e.onAddFilter(g)},color:"primary",variant:"outlined"},"Filter")))))},Ie=t(229),Fe=Object(d.a)((function(e){return{alertBox:{position:"fixed",zIndex:"10",marginTop:"3rem"},buttonFriendRequest:{margin:"1rem"}}})),We=function(){var e=Fe(),a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],d=u[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),h=g[0],b=g[1],v=Object(n.useState)([]),y=Object(s.a)(v,2),w=y[0],j=y[1],O=Object(n.useState)({channels:["cnn"],type:"everything"}),x=Object(s.a)(O,2),N=x[0],k=x[1],C=Object(n.useState)({message:{message:"",type:"info"}}),S=Object(s.a)(C,2),I=S[0],F=S[1],W="";localStorage.getItem("user")&&(W=JSON.parse(localStorage.getItem("user")));var B=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/sources");case 3:a=e.sent,b(a.data.sources),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed:",e.t0),F({message:{message:e.t0.response.data.message,type:"error"}}),d(!0),l(!1);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(!0),"headlines"!==N.type){e.next=8;break}return e.next=5,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/top-headlines",{params:{channels:N.channels,phrase:N.phrase,countries:N.countries,categories:N.categories}});case 5:a=e.sent,j(a.data.articles),l(!1);case 8:if("everything"!==N.type){e.next=14;break}return e.next=11,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/everything",{params:{sortBy:N.sort,phrase:N.phrase,languages:N.languages,channels:N.channels,from:N.fromDate,to:N.toDate}});case 11:t=e.sent,j(t.data.articles),l(!1);case 14:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Failed:",e.t0),F({message:{message:e.t0.response.data.message,type:"error"}}),d(!0),l(!1);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/save",{author:a.author,source:a.source.name,title:a.title,imgUrl:a.urlToImage,articleUrl:a.url,description:a.content,publishedAt:se()(a.publishedAt).format("YYYY-MM-DD HH:mm:ss")});case 3:t=e.sent,F({message:{message:t.data.response,type:"success"}}),d(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed:",e.t0),F({message:{message:e.t0.response.data.message,type:"error"}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){B(),P()}),[N]),W?r.a.createElement(Ie.a,null,r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:e.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:p,onClose:function(){return d(!1)},severity:I.message.type},I.message.message))),r.a.createElement(J.a,{style:{marginTop:"3rem"},spacing:2,container:!0,justify:"center"},r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(Se,{sources:h,onAddFilter:function(e){return function(e){k(e)}(e)}})),r.a.createElement(J.a,{item:!0,xs:12,sm:6},c?r.a.createElement(J.a,{container:!0,items:"center",justify:"center"},r.a.createElement(ie.a,{color:"#123abc"})):w.length>0?w.map((function(e,a){return r.a.createElement(Ee,{key:"news-"+a,article:e,onSaveArticle:function(){return A(e)}})})):r.a.createElement(J.a,{container:!0,items:"center",justify:"center"},r.a.createElement(E.a,{variant:"h5",component:"h2"},"Sorry, no news were found...")))))):r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:e.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{severity:"error"},"Sorry, you have to be logged in")))},Be=t(235),Pe=Object(d.a)((function(e){return{friendsWidth:{width:"100%",height:"100%"},card:{padding:"1rem",margin:"1rem",minWidth:"250px"},friendBox:{width:"50%"}}})),Ae=function(e){var a=Object(R.g)(),t=Pe(),c=Object(n.useState)(""),l=Object(s.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)([]),d=Object(s.a)(p,2),f=d[0],h=d[1],b=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/users");case 3:a=e.sent,h(a.data.response),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),r.a.createElement(J.a,{className:t.friendsWidth},r.a.createElement(me.a,{className:t.card,variant:"outlined"},r.a.createElement(Y.a,null,r.a.createElement(E.a,{variant:"h5",component:"h2"},"Friends"),r.a.createElement("br",null),e.friends.length>0?r.a.createElement(J.a,{container:!0},e.friends.map((function(n,c){return r.a.createElement(r.a.Fragment,{key:"friend-"+c},r.a.createElement(J.a,{className:t.friendBox,container:!0,alignItems:"center"},r.a.createElement(E.a,{className:"friend",color:"textSecondary",gutterBottom:!0,onClick:function(){return e=n.id,void a.push("/profile/".concat(e));var e}},n.first_name+" "+n.last_name)),r.a.createElement(J.a,{className:t.friendBox,container:!0,alignItems:"center",justify:"flex-end"},r.a.createElement(g.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:function(){return a=n.id,void e.onDeleteFriend(a);var a}},r.a.createElement(fe.a,null))))}))):r.a.createElement(Y.a,null,r.a.createElement(E.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"You don't have a friend yet")),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{container:!0,alignItems:"center",justify:"center",style:{width:"70%",position:"relative"}},r.a.createElement(Be.a,{id:"combo-box-demo",value:o,fullWidth:!0,options:f,getOptionLabel:function(e){return e.username},onChange:function(e,a){u(a)},renderInput:function(e){return r.a.createElement(M.a,Object.assign({},e,{id:"standard-search",label:"Search by email",type:"search"}))}})),r.a.createElement(J.a,{container:!0,alignItems:"center",justify:"center",style:{width:"30%"}},r.a.createElement(G.a,{onClick:function(){e.onAdd(o.username),u("")},color:"primary",variant:"contained"},"Add"))))))},De=t(225),Te=t(230),ze=t(226),Le=t(231),_e=t(227);function Re(e){var a=r.a.useState(!1),t=Object(s.a)(a,2),c=t[0],l=t[1],o=function(){l(!1),e.onClose(!1)};return Object(n.useEffect)((function(){l(e.open)}),[e.open]),r.a.createElement("div",null,r.a.createElement(De.a,{open:c,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Te.a,{id:"alert-dialog-title"},"Are you sure you want to proceed?"),r.a.createElement(ze.a,null,r.a.createElement(Le.a,{id:"alert-dialog-description"},"In order for us to process the data correctly, we want to make sure that your action was not a mistake.")),r.a.createElement(_e.a,null,r.a.createElement(G.a,{onClick:o,variant:"outlined",color:"primary"},"Go back"),r.a.createElement(G.a,{onClick:function(){e.deleteAction(),o()},variant:"outlined",color:"secondary"},"Delete"))))}var qe=t(113),Ue=t.n(qe),Ye=t(228),Je=Object(d.a)((function(e){return{card:{padding:"1rem",margin:"1rem"},textField:{padding:".5rem",width:"95%"},profileForm:{gridTemplateColumns:"66fr 33fr"},alertBox:{position:"fixed",zIndex:"10",marginTop:"3rem"}}})),Me=function(e){var a=Je(),t=Object(R.g)(),c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(s.a)(p,2),f=d[0],E=d[1],h=Object(n.useState)([]),b=Object(s.a)(h,2),v=b[0],y=b[1],w=Object(n.useState)([]),j=Object(s.a)(w,2),O=j[0],x=j[1],N=Object(n.useState)(null),k=Object(s.a)(N,2),C=k[0],S=k[1],I=Object(n.useState)({message:{message:"",type:"info"}}),F=Object(s.a)(I,2),W=F[0],B=F[1],P=r.a.useState({firstName:e.userData.first_name,lastName:e.userData.last_name,username:e.userData.username,pictureUrl:"http://ec2-54-234-36-236.compute-1.amazonaws.com"+e.userData.image_url,changed:!1,profileImage:""}),A=Object(s.a)(P,2),D=A[0],T=A[1],L=function(e){return function(a){var t;T(Object(U.a)({},D,(t={},Object(q.a)(t,e,a.target.value),Object(q.a)(t,"changed",!0),t))),"profileImage"===e&&(S(a.target.files[0]),T(Object(U.a)({},D,{pictureUrl:URL.createObjectURL(a.target.files[0]),changed:!0})))}},_=function(){var e=Object(m.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/friends/pending");case 3:return a=e.sent,e.next=6,a.data;case 6:t=e.sent,x(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),B({message:{message:e.t0.response.data.message,type:"error"}}),u(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.put("http://ec2-54-234-36-236.compute-1.amazonaws.com/friends/accept/".concat(a));case 3:return t=e.sent,e.next=6,t.data;case 6:n=e.sent,B({message:{message:n.message,type:"success"}}),u(!0),x(O.filter((function(e){return e.id!==a}))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Failed:",e.t0.response.data.message),B({message:{message:e.t0.response.data.message,type:"error"}}),u(!0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.put("http://ec2-54-234-36-236.compute-1.amazonaws.com/friends/reject/".concat(a));case 3:return t=e.sent,e.next=6,t.data;case 6:n=e.sent,B({message:{message:n.message,type:"success"}}),u(!0),x(O.filter((function(e){return e.id!==a}))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Failed:",e.t0.response.data.message),B({message:{message:e.t0.response.data.message,type:"error"}}),u(!0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/friends");case 3:a=e.sent,t=a.data,y(t),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed:",e.t0.response.data.message),B({message:{message:e.t0.response.data.message,type:"error"}}),u(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.put("http://ec2-54-234-36-236.compute-1.amazonaws.com/friends/request/".concat(a));case 3:return t=e.sent,n=t.data,B({message:{message:n.message,type:"success"}}),u(!0),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed:",e.t0.response),B({message:{message:e.t0.response.data.message,type:"error"}}),u(!0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){V(),_();var e=setInterval((function(){_(),V()}),1e4);return function(){return clearInterval(e)}}),[]);var X=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.delete("http://ec2-54-234-36-236.compute-1.amazonaws.com/users");case 3:localStorage.removeItem("user"),t.push("/"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed:",e.t0),B({message:{message:e.t0.response.data.response,type:"error"}}),u(!0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,C&&a.append("file",C),a.append("firstName",D.firstName),a.append("lastName",D.lastName),a.append("username",D.username),e.prev=5,e.next=8,z.a.put("http://ec2-54-234-36-236.compute-1.amazonaws.com/users",a);case 8:t=e.sent,B({message:{message:"Profile successfully updated.",type:"success"}}),u(!0),localStorage.setItem("user",JSON.stringify(t.data.response)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(5),console.log("Failed:",e.t0),B({message:{message:e.t0.response.data.response,type:"error"}}),u(!0);case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ie.a,null,r.a.createElement("br",null),f?r.a.createElement(Re,{open:f,deleteAction:X,onClose:function(){return E(!1)}}):"",r.a.createElement(Y.a,null,r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:a.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:o,className:a.alert,onClose:function(){return u(!1)},severity:W.message.type},W.message.message))),r.a.createElement(J.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:6},r.a.createElement(J.a,{item:!0,md:6},r.a.createElement(J.a,{container:!0},r.a.createElement(J.a,{container:!0},O.length>0?r.a.createElement(r.a.Fragment,null,O.map((function(e,t){return r.a.createElement(Q,{key:"alert-"+t,style:{marginTop:"1rem"},severity:"info",open:!0,onClose:function(){return u(!1)}},"You got a friend request from",r.a.createElement("b",null," "+e.first_name+" "+e.last_name),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(G.a,{className:a.buttonFriendRequest,variant:"contained",color:"primary",onClick:function(){return a=e.id,void H(a).then((function(){return V()}));var a}},"Accept"),r.a.createElement(G.a,{className:a.buttonFriendRequest,variant:"contained",color:"secondary",onClick:function(){return K(e.id)}},"Decline")))}),"")):"",r.a.createElement(Ae,{onAdd:function(e){$(e).then((function(){return V()}))},friends:v,onDeleteFriend:function(e){K(e).then((function(){return V()}))}})))),r.a.createElement(J.a,{item:!0,md:6},r.a.createElement(me.a,{className:a.card,variant:"outlined"},r.a.createElement("h2",null,"Profile"),r.a.createElement("br",null),r.a.createElement(J.a,{className:a.profileForm,container:!0,alignItems:"center"},r.a.createElement(J.a,{item:!0,xs:9},r.a.createElement(M.a,{label:"",className:a.textField,value:D.firstName,onChange:L("firstName"),id:"standard-start-adornment",InputProps:{startAdornment:r.a.createElement(Ye.a,{position:"start"},"First name")}}),r.a.createElement("br",null),r.a.createElement(M.a,{className:a.textField,label:"",value:D.lastName,onChange:L("lastName"),id:"standard-start-adornment",InputProps:{startAdornment:r.a.createElement(Ye.a,{position:"start"},"Last name")}}),r.a.createElement("br",null),r.a.createElement(M.a,{className:a.textField,label:"",value:D.username,onChange:L("username"),id:"standard-start-adornment",InputProps:{startAdornment:r.a.createElement(Ye.a,{position:"start"},"Email")}})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(J.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("img",{className:"profileImage",src:D.pictureUrl,alt:"logo"}),r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file",onChange:L("profileImage"),type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(g.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Ue.a,null)))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,alignItems:"center"},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0},r.a.createElement(G.a,{style:{marginLeft:"1rem"},variant:"contained",color:"primary",disabled:!D.changed,onClick:function(){return Z()}},"Save"))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"flex-end"},r.a.createElement(G.a,{onClick:function(){return E(!0)},variant:"outlined",color:"secondary"},"Delete")))))))))},Ge=Object(d.a)((function(e){return{alertBox:{position:"fixed",marginTop:"3rem"},profileForm:{gridTemplateColumns:"66fr 33fr"},card:{position:"fixed",width:"40%",padding:"1rem",margin:"1rem"},profileImage:{width:"8rem",height:"8rem",borderRadius:"4rem"},publicText:{fontWeight:500,fontSize:"1.2rem"}}})),He=function(){var e=Ge(),a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)([]),u=Object(s.a)(o,2),p=u[0],d=u[1],f=Object(n.useState)({}),g=Object(s.a)(f,2),h=g[0],b=g[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),w=y[0],j=y[1],O=Object(n.useState)({message:{message:"",type:"info"}}),x=Object(s.a)(O,2),N=x[0],k=x[1],C=Object(R.h)().id,S=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/publicProfile/".concat(C));case 3:a=e.sent,d(a.data.articles),b(a.data.profile),l(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Failed:",e.t0),k({message:{message:e.t0.response.data.response,type:"error"}}),j(!0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){S()}),[C]),r.a.createElement(Ie.a,null,r.a.createElement(Y.a,{className:e.postsContainer},r.a.createElement(J.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:e.alertBox},r.a.createElement("br",null),r.a.createElement(Q,{open:w,onClose:function(){return j(!1)},severity:N.message.type},N.message.message))),"error"!==N.message.type?r.a.createElement(J.a,{style:{marginTop:"3rem"},spacing:2,container:!0,justify:"center",className:"profileWrapper"},r.a.createElement(J.a,{item:!0,xs:12,sm:6},c?r.a.createElement(J.a,{container:!0,items:"center",justify:"center"},r.a.createElement(ie.a,{color:"#123abc"})):p.length>0?p.map((function(e,a){return e.source={name:e.source},e.urlToImage=e.image_url,e.url=e.article_url,e.publishedAt=e.published_at,r.a.createElement(Ee,{key:"news-"+a,article:e,private:!0})})):r.a.createElement(J.a,{container:!0,items:"center",justify:"center"},r.a.createElement(E.a,{variant:"h5",component:"h2"},"Sorry, no news were found..."))),r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(me.a,{className:"articleCard",variant:"outlined"},r.a.createElement("h2",null,"Profile"),r.a.createElement("br",null),r.a.createElement(J.a,{className:e.profileForm,container:!0,alignItems:"center"},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement("h3",{className:e.publicText},"First name: "+h.firstName),r.a.createElement("h3",{className:e.publicText},"Last name: "+h.lastName),r.a.createElement("h3",{className:e.publicText},"Email: "+h.username)),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(J.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("img",{className:e.profileImage,src:"http://ec2-54-234-36-236.compute-1.amazonaws.com"+h.imageUrl,alt:"logo"})))),r.a.createElement("br",null),r.a.createElement("br",null)))):""))},Ke=Object(d.a)((function(e){return{alertBox:{position:"absolute",marginTop:"2rem"},card:{maxWidth:"40rem",margin:"1rem"},articleImage:{width:"100%",height:"auto"}}})),Ve=function(){var e=Ke(),a=Object(n.useState)([]),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),p=u[0],d=u[1],f=Object(n.useState)(!0),g=Object(s.a)(f,2),E=g[0],h=g[1],b=Object(n.useState)({message:{message:"",type:"info"}}),v=Object(s.a)(b,2),y=v[0],w=v[1],j=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),l([]),e.prev=2,e.next=5,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/saved-articles");case 5:a=e.sent,h(!1),l(a.data.response),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Failed:",e.t0),w({message:{message:e.t0.response.data.message,type:"error"}}),d(!0),h(!1);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.delete("http://ec2-54-234-36-236.compute-1.amazonaws.com/news/saved/".concat(a.id));case 3:j(),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed:",e.t0),w({message:{message:e.t0.response.data.message,type:"error"}}),d(!0);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),r.a.createElement(Ie.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(Y.a,{className:e.alertBox},r.a.createElement(Q,{open:p,onClose:function(){return d(!1)},severity:y.message.type},y.message.message))),r.a.createElement(J.a,{container:!0,justify:"center"},E?r.a.createElement(J.a,{container:!0,items:"center",justify:"center"},r.a.createElement(ie.a,{color:"#123abc"})):c.length>0?c.map((function(e,a){return e.urlToImage=e.image_url,e.url=e.article_url,e.publishedAt=e.published_at,r.a.createElement(Ee,{key:"post-"+a,article:e,private:!0,mine:!0,onDeleteArticle:function(){return O(e)}})})):"Sorry there are no saved articles"))};z.a.defaults.withCredentials=!0;var $e=function(e){var a=e.component,t=e.auth,c=Object(u.a)(e,["component","auth"]),l=Object(R.g)();return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("http://ec2-54-234-36-236.compute-1.amazonaws.com/users/session");case 3:a=e.sent,t=a.data,localStorage.setItem("user",JSON.stringify(t.data)),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),l.push("/"),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(R.b,Object.assign({},c,{render:function(e){return!0===t||localStorage.getItem("user")?r.a.createElement(a,e):r.a.createElement(R.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Qe=function(){var e=r.a.useState(!!localStorage.getItem("user")),a=Object(s.a)(e,2),t=a[0],n=a[1],c=r.a.useState(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):""),l=Object(s.a)(c,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(_,{userData:o,isAuth:t,onAuth:function(e){return n(e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/",component:function(e){return r.a.createElement(Z,Object.assign({},e,{onAuth:function(e){return n(e)},userData:function(e){return i(e)}}))}}),r.a.createElement(R.b,{exact:!0,path:"/signup"},r.a.createElement(ae,null)),r.a.createElement(R.b,{exact:!0,path:"/reset"},r.a.createElement(ne,null)),r.a.createElement(R.b,{exact:!0,path:"/resetForm/:token",component:function(e){return r.a.createElement(ce,e)}}),r.a.createElement($e,{auth:t,exact:!0,path:"/news",component:function(e){return r.a.createElement(We,e)}}),r.a.createElement($e,{auth:t,exact:!0,path:"/savedArticles",component:function(e){return r.a.createElement(Ve,e)}}),r.a.createElement($e,{auth:t,exact:!0,path:"/profile",component:function(e){return r.a.createElement(Me,Object.assign({userData:o},e))}}),r.a.createElement($e,{auth:t,exact:!0,path:"/profile/:id",component:function(e){return r.a.createElement(He,e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(p.a,{basename:"/"},r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[137,1,2]]]);
//# sourceMappingURL=main.60309e4a.chunk.js.map